(function(e){function t(t){for(var n,i,c=t[0],o=t[1],u=t[2],d=0,v=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&v.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={Preferences:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push([7,"chunk-vendors"]),r()})({"0426":function(e,t,r){"use strict";var n=r("2627"),a=r.n(n);a.a},"0532":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("4160");var n=r("d4ec"),a=r("bee2"),s=r("c6c6"),i=r.n(s),c={desktop:1920,tablet:768,phone:320},o=1024,u=10,l=function(){function e(){Object(n["a"])(this,e),this.md=new i.a(window.navigator.userAgent),this.$html=document.documentElement,this.$window=window,this.device,this.init()}return Object(a["a"])(e,[{key:"init",value:function(){this.device=this.detectDevice(),this.runScreenResize(),this.bindEvents()}},{key:"detectDevice",value:function(){var e="desktop";return this.md.tablet()?e="tablet":this.md.mobile()?e="phone":this._is_touch_device()&&null==this.md.mobile()&&null==this.md.os()&&(e="tablet"),e}},{key:"bindEvents",value:function(){var e=this;this.$window.addEventListener("resize",(function(){e.switchBodyClasses(),e.changeBaseFontSize()}))}},{key:"runScreenResize",value:function(){this.switchBodyClasses(),this.changeBaseFontSize()}},{key:"changeBaseFontSize",value:function(){var e=this.calcBaseWidth(),t=this.calculateFontSize(e);this.setPageFontSize(t)}},{key:"calcBaseWidth",value:function(){return c[this.device]}},{key:"calculateFontSize",value:function(e){var t=document.documentElement.clientWidth;t="tablet"===this.device?Math.min(this.$window.innerWidth,e):Math.min(Math.max(this.$window.innerWidth,o),e);var r=t/e*u+"px";return r}},{key:"getTargetWidth",value:function(){return Math.min(this.$window.innerWidth(),c)}},{key:"setPageFontSize",value:function(e){this.$html.style.fontSize=e}},{key:"switchBodyClasses",value:function(){var e=document.body,t=["desktop","tablet","phone"];t.forEach((function(t){return e.classList.remove(t)})),e.classList.add(this.device)}},{key:"_is_touch_device",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}}]),e}()},"0d87":function(e,t,r){},1269:function(e,t,r){"use strict";var n,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"page-header"},[e.logo?r("Logo"):e._e(),r("Navigation",{attrs:{isAboutPage:e.isAboutPage}}),e.user?r("HeaderAuth",{attrs:{user:e.user}}):e._e()],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"header-nav"},[e.isAboutPage?e._e():r("a",{staticClass:"link",attrs:{href:"/about/"}},[e._v("About Us")]),e.isAboutPage?r("a",{staticClass:"link",attrs:{href:"/"}},[e._v("Home")]):e._e()])},c=[],o={name:"Navigation",props:{isAboutPage:Boolean}},u=o,l=r("2877"),d=Object(l["a"])(u,i,c,!1,null,null,null),v=d.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["button"],handler:"onClose"},expression:"{ exclude: ['button'], handler: 'onClose' }"}],staticClass:"header-auth-wrapper"},[r("v-btn",{ref:"button",staticClass:"header-auth",attrs:{text:"",rounded:""}},[r("v-avatar",{attrs:{size:"10rem"},on:{click:function(t){e.overlay=!e.overlay}}},[e.user.picture?r("img",{attrs:{src:e.user.picture,alt:e.user.name}}):r("div",{staticClass:"header-auth__anonymous"},[r("v-icon",{attrs:{size:"6rem",color:"secondary"}},[e._v(e._s(e.iconUser))])],1)])],1),e.user?r("v-overlay",{attrs:{absolute:!0,color:"",value:e.overlay}},[r("v-card",{attrs:{light:""}},[r("div",{staticClass:"pa-6"},[r("v-icon",{staticClass:"dialog-close",attrs:{large:"",color:"black"},on:{click:function(t){e.overlay=!1}}},[e._v(e._s(e.iconClose)+" ")]),r("v-card-text",{staticClass:"text-center pa-0"},[r("v-avatar",{staticClass:"mb-6",attrs:{size:"13rem"}},[e.user.picture?r("img",{attrs:{src:e.user.picture,alt:e.user.name}}):r("div",{staticClass:"header-auth__anonymous"},[r("v-icon",{attrs:{size:"10rem",color:"secondary"}},[e._v(e._s(e.iconUser))])],1)]),e.user.name?r("h3",[e._v(e._s(e.user.name))]):e._e(),e.user.email?r("p",{staticClass:"body-3 mt-2 mb-8"},[e._v(e._s(e.user.email))]):r("p",{staticClass:"body-3 mt-2 mb-8"},[e._v("Welcome to "),r("strong",[e._v("Pickee!")])]),r("div",{staticClass:"pl-12 pr-12 ml-12 mr-12 pl-p-0 pr-p-0 ml-p-0 mr-p-0"},[e.user.id?[r("v-btn",{staticClass:"mb-4 pl-6 pr-6",attrs:{block:"",color:"primary",href:"/profile/"}},[e._v("Manage account ")]),r("v-btn",{attrs:{block:"",outlined:"",href:"/logout/"}},[e._v("Logout")])]:[r("v-btn",{staticClass:"mb-4",attrs:{block:"",color:"primary",href:"/login/"}},[e._v("Login ")]),r("v-btn",{staticClass:"pl-6 pr-6",attrs:{block:"",outlined:"",href:"/signup/"}},[e._v("Create account")])]],2)],1)],1)])],1):e._e()],1)},m=[],p=(r("4160"),r("159b"),r("2b0e")),f=r("94ed");p["a"].directive("closable",{bind:function(e,t,r){n=function(n){n.stopPropagation();var a=t.value,s=a.handler,i=a.exclude,c=!1;i.forEach((function(e){if(!c){var t=r.context.$refs[e];c=t.$el.contains(n.target)}})),e.contains(n.target)||c||r.context[s]()},document.addEventListener("click",n),document.addEventListener("touchstart",n)},unbind:function(){document.removeEventListener("click",n),document.removeEventListener("touchstart",n)}});var g={name:"HeaderAuth",props:["user"],methods:{onClose:function(){this.overlay=!1}},data:function(){return{overlay:!1,iconUser:f["a"],iconClose:f["f"]}}},b=g,w=(r("604d"),r("6544")),x=r.n(w),_=r("8212"),k=r("8336"),y=r("b0af"),R=r("99d9"),M=r("132d"),C=r("a797"),O=Object(l["a"])(b,h,m,!1,null,null,null),j=O.exports;x()(O,{VAvatar:_["a"],VBtn:k["a"],VCard:y["a"],VCardText:R["b"],VIcon:M["a"],VOverlay:C["a"]});var A=r("e532"),I={name:"PageHeader",props:{logo:Boolean,isAboutPage:Boolean,user:Object},components:{Navigation:v,HeaderAuth:j,Logo:A["a"]}},L=I,F=(r("0426"),Object(l["a"])(L,a,s,!1,null,null,null));t["a"]=F.exports},1336:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.drawer?e._e():r("v-btn",{staticClass:"nav-drawer-activator",attrs:{icon:"",color:"white"},on:{click:function(t){e.drawer=!0}}},[r("v-icon",{attrs:{size:"5rem"}},[e._v(e._s(e.iconMenu))])],1),r("v-navigation-drawer",{staticClass:"nav-drawer",attrs:{width:"38rem",fixed:"","mobile-break-point":e.drawer?0:1024},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("div",{staticClass:"nav-drawer__logo"},[r("Logo")],1),r("NavDrawerLinks",{attrs:{links:e.links}}),r("div",{staticClass:"nav-drawer__logout-btn"},[r("v-btn",{attrs:{block:"",href:"/logout/"}},[e._v("Logout")])],1)],1)],1)},a=[],s=r("e532"),i=r("94ed"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-drawer-links"},[e._l(e.links,(function(t){return[r("a",{key:t.url,staticClass:"nav-drawer-links__item",class:{"nav-drawer-links__item--active":e.isActive(t.url)},attrs:{href:t.url}},[r("v-icon",{staticClass:"mr-3"},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.name)+" ")],1)]}))],2)},o=[],u={name:"NavDrawerLinks",props:["links"],methods:{isActive:function(e){return e===window.location.pathname}},data:function(){return{test:"Test"}}},l=u,d=(r("a538"),r("2877")),v=r("6544"),h=r.n(v),m=r("132d"),p=Object(d["a"])(l,c,o,!1,null,null,null),f=p.exports;h()(p,{VIcon:m["a"]});var g={name:"ProfileNavDrawer",data:function(){return{iconMenu:i["j"],drawer:!!document.body.classList.contains("desktop"),links:[{name:"Profile",url:"/profile/",icon:i["b"]},{name:"Preferences",url:"/preferences/",icon:i["g"]},{name:"History",url:"/history/",icon:i["h"]}]}},components:{Logo:s["a"],NavDrawerLinks:f}},b=g,w=(r("93c6"),r("8336")),x=r("f774"),_=Object(d["a"])(b,n,a,!1,null,null,null);t["a"]=_.exports;h()(_,{VBtn:w["a"],VIcon:m["a"],VNavigationDrawer:x["a"]})},"17c5":function(e,t,r){"use strict";var n=r("d0ea"),a=r.n(n);a.a},2627:function(e,t,r){},"4a60":function(e,t,r){"use strict";var n=r("be45"),a=r.n(n);a.a},"4cac":function(e,t,r){"use strict";var n=r("0d87"),a=r.n(n);a.a},"604d":function(e,t,r){"use strict";var n=r("ea03"),a=r.n(n);a.a},7:function(e,t,r){e.exports=r("e513")},7424:function(e,t,r){"use strict";r("99af"),r("7db0"),r("4160"),r("c975"),r("159b"),r("96cf");var n=r("1da1"),a=(r("d3b7"),r("2b27")),s=r.n(a),i="/api",c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("X-CSRFToken",s.a.get("csrftoken")),a.append("Content-Type","application/json"),c={method:n||"POST",headers:a},r&&(c.body=JSON.stringify(r)),e.next=7,fetch(i+t,c);case 7:return o=e.sent,e.next=10,o.text().then((function(e){return e?JSON.parse(e):{}}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var c,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=new FormData,c.append(r,n),o=new Headers,o.append("X-CSRFToken",s.a.get("csrftoken")),u={method:a||"POST",headers:o,body:c},e.next=7,fetch(i+t,u);case 7:return l=e.sent,e.next=10,l.text().then((function(e){return e?JSON.parse(e):{}}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t,null,"DELETE");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t,r,"PUT");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t,r,"POST");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t,null,"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t,r,"PATCH");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.find((function(e){return e.genre===n}))){e.next=4;break}return a={user:t,genre:n},e.next=4,d("/users/".concat(t,"/favorite-genres/"),a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(-1!==a.indexOf(r.genre)){e.next=3;break}return e.next=3,u("/users/".concat(t,"/favorite-genres/").concat(r.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();t["a"]={createSession:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={users:e},t.next=3,d("/sessions/",r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},getGenres:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v("/genres/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getFavoriteGenres:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/users/".concat(e,"/favorite-genres/"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},updateFavoriteGenres:function(e,t,r){return Object(n["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,v("/users/".concat(e,"/favorite-genres/"));case 2:a=n.sent,r?m(e,a,t):p(e,a,t);case 4:case"end":return n.stop()}}),n)})))()},getUser:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/users/?email=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getAscUsers:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/users/".concat(e,"/"));case 2:r=t.sent,n=[],a=r.associated_users,s=0;case 6:if(!(s<a.length)){t.next=14;break}return t.next=9,v("/users/".concat(a[s],"/"));case 9:i=t.sent,n.push(i);case 11:s++,t.next=6;break;case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t)})))()},saveAscUsers:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={associated_users:t},r.next=3,h("/users/".concat(e,"/"),n);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},getFavoriteActors:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/users/".concat(e,"/favorite-actors/"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},addFavoriteActors:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=[],a=0;case 2:if(!(a<t.length)){r.next=18;break}return s=t[a].actor,r.next=6,v("/actors/".concat(s.id));case 6:if(i=r.sent,i.id){r.next=14;break}return r.next=10,d("/actors/",s);case 10:c=r.sent,n.push({user:e,actor:c.id}),r.next=15;break;case 14:n.push({user:e,actor:s.id});case 15:a++,r.next=2;break;case 18:return r.next=20,d("/users/".concat(e,"/favorite-actors/"),n);case 20:return r.abrupt("return",r.sent);case 21:case"end":return r.stop()}}),r)})))()},getActor:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/actors/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},searchActor:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/search/actors/?name=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},removeFavoriteActors:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,u("/users/".concat(e,"/favorite-actors/").concat(t,"/"));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},getFavoriteMovies:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/users/".concat(e,"/favorite-movies/"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},addFavoriteMovies:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=[],a=0;case 2:if(!(a<t.length)){r.next=18;break}return s=t[a].movie,r.next=6,v("/movies/".concat(s.id));case 6:if(i=r.sent,i.id){r.next=14;break}return r.next=10,d("/movies/",s);case 10:c=r.sent,n.push({user:e,movie:c.id}),r.next=15;break;case 14:n.push({user:e,movie:s.id});case 15:a++,r.next=2;break;case 18:return r.next=20,d("/users/".concat(e,"/favorite-movies/"),n);case 20:return r.abrupt("return",r.sent);case 21:case"end":return r.stop()}}),r)})))()},removeFavoriteMovies:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,u("/users/".concat(e,"/favorite-movies/").concat(t,"/"));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},searchMovie:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/search/movies/?name=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getMovie:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/movies/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},updateUserProfile:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,h("/users/".concat(e,"/"),t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},getRecommendation:function(e,t,r){return Object(n["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={runtime:e.runtime,genre_ids:e.genre_ids,user_ids:e.user_ids,offset:r},t&&(a.session_id=t),n.next=4,d("/recommendations/generate",a);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},setRecommendationUserChoice:function(e,t,r,a){return Object(n["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={user_choice:a,movie:r,session:t},n.next=3,l("/recommendations/".concat(e,"/"),s);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},getProviderList:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v("/providers/?movie_name=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},updateAvatar:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o("/users/".concat(e,"/"),"picture",t,"PATCH");case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}}},"75ad":function(e,t,r){},"7a52":function(e,t,r){"use strict";var n=r("f98a"),a=r.n(n);a.a},"8a71":function(e,t,r){},"90ec":function(e,t,r){"use strict";var n=r("9bf4"),a=r.n(n);a.a},"93c6":function(e,t,r){"use strict";var n=r("f2d8"),a=r.n(n);a.a},"9bf4":function(e,t,r){},a337:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"item-list",class:{"item-list--accented":e.accented}},[e._l(e.items,(function(t){return[r("li",{key:t.id,staticClass:"item-list__element"},[r("button",{staticClass:"item-list__element-button",on:{click:function(r){return e.buttonAction(t)}}},[t.image?r("v-avatar",{staticClass:"item-list__element-avatar",attrs:{size:"6.8rem"}},[r("img",{attrs:{src:t.image,alt:t.text}})]):t.picture?r("img",{staticClass:"item-list__element-picture",attrs:{src:t.picture,alt:t.text}}):e._e(),t.logo?r("div",{staticClass:"item-list__element-logo"},[r("img",{attrs:{src:t.logo,alt:t.text}})]):e._e(),r("span",{staticClass:"item-list__element-text"},[e._v(e._s(t.text))]),t.icon?r("v-icon",{staticClass:"item-list__element-icon"},[e._v(e._s(t.icon))]):e._e()],1)])]}))],2)},a=[],s={name:"ItemList",props:{items:Array,buttonAction:Function,accented:Boolean}},i=s,c=(r("4cac"),r("2877")),o=r("6544"),u=r.n(o),l=r("8212"),d=r("132d"),v=Object(c["a"])(i,n,a,!1,null,null,null);t["a"]=v.exports;u()(v,{VAvatar:l["a"],VIcon:d["a"]})},a538:function(e,t,r){"use strict";var n=r("75ad"),a=r.n(n);a.a},b27d:function(e,t,r){},b700:function(e,t,r){},b8e3:function(e,t,r){"use strict";var n=r("2b0e"),a=r("f309"),s={primary:"#ffbf69",secondary:"#2d3142",red:"#FF6969",green:"#69FF80",grey100:"#fbfbfb",grey200:"#eaeaea",grey300:"#d3d0c5",grey400:"#a8a8a8",grey500:"#a0a0a0",grey700:"#4b4b4b",grey800:"#363636",grey950:"#282828",grey960:"#262626",grey970:"#242424",grey985:"#2b2b2b",grey980:"#191919",grey990:"#151515",bodyText:"#fbfbfb",bodyBg:"#242424"};n["a"].use(a["a"]);var i={theme:{themes:{dark:s},dark:!0,options:{customProperties:!0}},icons:{iconfont:"mdiSvg"}};t["a"]=new a["a"](i)},be45:function(e,t,r){},d0ea:function(e,t,r){},e513:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("div",{staticClass:"profile-page"},[r("ProfileNavDrawer"),r("main",{staticClass:"profile-page-main"},[r("PageHeader"),r("v-content",{staticClass:"profile-page-content"},[r("div",{staticClass:"profile-page-blocks"},[r("PreferencesGrid",{attrs:{addButtonText:"Manage actors",boxTitle:"Favorite Actors",type:"actors",addMethod:e.addActor,removeMethod:e.removeActor,searchMethod:e.searchActor,saveMethod:e.saveActors,entries:e.actorLookup,items:e.actorItems,searchLoading:e.isActorLookupLoading}}),r("PreferencesGrid",{staticClass:"mt-12",attrs:{addButtonText:"Manage movies",boxTitle:"Favorite Movies",type:"movies",addMethod:e.addMovie,removeMethod:e.removeMovie,searchMethod:e.searchMovie,saveMethod:e.saveMovies,entries:e.movieLookup,items:e.movieItems,searchLoading:e.isMovieLookupLoading}}),e.selectedGenres?r("GenrePreferences",{attrs:{items:e.genreItems,selected:e.selectedGenres,changeEvent:e.updateGenres},on:{input:function(t){e.selectedGenres=t}}}):e._e()],1)])],1)],1)])},s=[],i=(r("7db0"),r("c740"),r("4160"),r("d81d"),r("a434"),r("b0c0"),r("159b"),r("96cf"),r("1da1")),c=r("7424"),o=r("1269"),u=r("1336"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"preferences-grid"},[r("h3",{staticClass:"preferences-grid-header"},[e._v(e._s(e.boxTitle))]),r("v-card",{staticClass:"preferences-grid-card",attrs:{dark:""}},[r("v-card-text",[r("div",{staticClass:"preferences-grid-content"},[0===e.items.length?r("p",[e._v("We don't know your favorites yet. Add some!")]):e._e(),e._l(e.items,(function(t){return r("div",{key:t.id,staticClass:"preferences-grid-content__block"},["actors"==e.type?[t.image?r("v-avatar",{staticClass:"preferences-grid-content__picture"},[r("img",{attrs:{src:t.image,alt:t.text}})]):r("div",{staticClass:"preferences-grid-content__empty-avatar"})]:e._e(),"movies"==e.type?[t.picture?r("v-img",{staticClass:"preferences-grid-content__poster"},[r("img",{attrs:{src:t.picture,alt:t.text}})]):r("div",{staticClass:"preferences-grid-content__empty-poster"})]:e._e(),r("p",{staticClass:"preferences-grid-content__label"},[e._v(e._s(t.text))])],2)}))],2),r("AddItemDialog",{attrs:{addButtonText:e.addButtonText,items:e.items,entries:e.entries,addMethod:e.addMethod,removeMethod:e.removeMethod,searchMethod:e.searchMethod,saveMethod:e.saveMethod,searchLoading:e.searchLoading}})],1)],1)],1)},d=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"100rem"},on:{"click:outside":e.saveMethod},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("div",e._g({staticClass:"add-item-dialog__btn"},n),[r("v-btn",{attrs:{color:"primary"}},[e._v(e._s(e.addButtonText))])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{attrs:{light:""}},[r("div",{staticClass:"px-8 py-6 px-p-4 py-p-3"},[r("v-icon",{staticClass:"dialog-close",attrs:{large:"",color:"black"},on:{click:function(t){e.dialog=!1,e.saveMethod()}}},[e._v(e._s(e.iconClose))]),r("v-card-text",{staticClass:"add-item-dialog__popup-content"},[r("ItemsSearch",{attrs:{items:e.items,entries:e.entries,removeMethod:e.removeMethod,searchMethod:e.searchMethod,addMethod:e.addMethod,searchLoading:e.searchLoading}})],1)],1)])],1)},h=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"items-search"},[r("SearchSuggestions",{attrs:{entries:e.entries,items:e.items,addMethod:e.addMethod,searchMethod:e.searchMethod,searchLoading:e.searchLoading}}),r("ItemList",{attrs:{items:e.items,"button-action":e.removeMethod}})],1)},p=[],f=r("a337"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-suggestions",class:{"search-suggestions--loading":e.searchLoading}},[r("v-menu",{attrs:{value:e.entries||void 0,disabled:!e.entries,"allow-overflow":"","max-height":"26rem","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("div",e._g({ref:"searchInput",staticClass:"search-suggestions__search-box"},n),[r("v-text-field",{staticClass:"search-suggestions__search-input",attrs:{dark:"","prepend-icon":e.iconSearch,solo:""},on:{keydown:e.searchEvent},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),r("v-btn",{staticClass:"search-suggestions__search-btn",attrs:{color:"primary",large:""},on:{click:e.searchEvent}},[e._v("Search")])],1)]}}])},[e.entries&&e.entries.length>0?r("v-list",e._l(e.entries,(function(t,n){return r("v-list-item",{key:n,attrs:{disabled:e.isAlreadyAdded(t)},on:{click:function(r){return e.addEvent(t,n)}}},[r("v-list-item-avatar",[t.image_url?r("v-img",{attrs:{src:t.image_url}}):r("v-icon",[e._v(e._s(e.iconUser))])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1)],1)})),1):r("v-list",[r("v-list-item",[e._v("No actors found")])],1)],1)],1)},b=[],w=(r("d3b7"),r("ddb0"),r("94ed")),x={name:"SearchSuggestions",props:["entries","items","searchMethod","addMethod","searchLoading"],data:function(){return{searchText:"",iconUser:w["a"],iconSearch:w["i"],searchInput:null}},methods:{searchEvent:function(e){if("keydown"===e.type&&"Enter"!==e.key)return!1;this.searchMethod(this.searchText)},addEvent:function(e,t){this.addMethod(e),this.entries.splice(t,1)},isAlreadyAdded:function(e){return-1!==this.items.findIndex((function(t){return t.id===e.id}))}},mounted:function(){this.searchInput=this.$refs.searchInput}},_=x,k=(r("17c5"),r("2877")),y=r("6544"),R=r.n(y),M=r("8336"),C=r("132d"),O=r("adda"),j=r("8860"),A=r("da13"),I=r("8270"),L=r("5d23"),F=r("e449"),P=r("8654"),E=Object(k["a"])(_,g,b,!1,null,null,null),S=E.exports;R()(E,{VBtn:M["a"],VIcon:C["a"],VImg:O["a"],VList:j["a"],VListItem:A["a"],VListItemAvatar:I["a"],VListItemContent:L["a"],VListItemTitle:L["b"],VMenu:F["a"],VTextField:P["a"]});var T={name:"ItemsSearch",props:["items","entries","addMethod","removeMethod","searchMethod","searchLoading"],components:{ItemList:f["a"],SearchSuggestions:S}},V=T,D=Object(k["a"])(V,m,p,!1,null,null,null),B=D.exports,$={name:"AddItemDialog",props:["addButtonText","entries","items","addMethod","removeMethod","searchMethod","saveMethod","searchLoading"],components:{ItemsSearch:B},data:function(){return{dialog:!1,iconClose:w["f"]}}},G=$,N=(r("7a52"),r("b0af")),z=r("99d9"),H=r("169a"),U=Object(k["a"])(G,v,h,!1,null,null,null),W=U.exports;R()(U,{VBtn:M["a"],VCard:N["a"],VCardText:z["b"],VDialog:H["a"],VIcon:C["a"]});var J={name:"PreferencesGrid",props:["items","entries","type","addMethod","addButtonText","boxTitle","removeMethod","searchMethod","saveMethod","searchLoading"],components:{AddItemDialog:W}},X=J,q=(r("90ec"),r("8212")),K=Object(k["a"])(X,l,d,!1,null,null,null),Q=K.exports;R()(K,{VAvatar:q["a"],VCard:N["a"],VCardText:z["b"],VImg:O["a"]});var Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"genre-preferences mt-12"},[r("h3",{staticClass:"genre-preferences__header"},[e._v("Favorite genres")]),r("v-select",{attrs:{items:e.items,label:"Add your favorite genres from this list","item-color":"primary","item-value":"text","return-object":!1,solo:"",multiple:"",chips:""},on:{change:e.changeEvent},scopedSlots:e._u([{key:"selection",fn:function(t){return[r("v-chip",e._b({key:JSON.stringify(t.item),attrs:{color:"primary","text-color":"secondary","input-value":t.selected,disabled:t.disabled},on:{"click:close":function(e){return t.parent.selectItem(t.item)}}},"v-chip",t.attrs,!1),[e._v(" "+e._s(t.item.text)+" ")])]}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)},Z=[],ee={name:"GenrePreferences",props:["changeEvent","items","selected"],data:function(){return{select:this.selected}},watch:{select:function(){this.$emit("input",this.select)}}},te=ee,re=(r("f1a8"),r("cc20")),ne=r("b974"),ae=Object(k["a"])(te,Y,Z,!1,null,null,null),se=ae.exports;R()(ae,{VChip:re["a"],VSelect:ne["a"]});var ie={name:"Preferences",data:function(){return{actorLookup:null,movieLookup:null,actorItems:[],newFavoriteActors:[],removedFavoriteActors:[],movieItems:[],newFavoriteMovies:[],removedFavoriteMovies:[],genreItems:[],selectedGenres:null,userID:null,isActorLookupLoading:!1,isMovieLookupLoading:!1}},components:{PageHeader:o["a"],ProfileNavDrawer:u["a"],PreferencesGrid:Q,GenrePreferences:se},methods:{addActor:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.newFavoriteActors.push({user:this.userID,actor:t}),this.actorItems.push({id:t.id,text:t.name,image:t.image_url,icon:w["k"]});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeActor:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.actorItems.findIndex((function(e){return e.text===t.text})),this.actorItems.splice(r,1),this.removedFavoriteActors.push(t.refID);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),searchActor:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isActorLookupLoading=!0,e.next=3,c["a"].searchActor(t);case 3:r=e.sent,this.actorLookup=r.results||[],this.isActorLookupLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveActors:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.newFavoriteActors.length>0)){e.next=6;break}return e.next=3,c["a"].addFavoriteActors(this.userID,this.newFavoriteActors);case 3:t=e.sent,t.forEach((function(e){var t=n.actorItems.find((function(t){return t.id===e.actor}));t.refID=e.id})),this.newFavoriteActors=[];case 6:if(!(this.removedFavoriteActors.length>0)){e.next=15;break}r=0;case 8:if(!(r<this.removedFavoriteActors.length)){e.next=14;break}return e.next=11,c["a"].removeFavoriteActors(this.userID,this.removedFavoriteActors[r]);case 11:r++,e.next=8;break;case 14:this.removedFavoriteActors=[];case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addMovie:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.newFavoriteMovies.push({user:this.userID,movie:t}),this.movieItems.push({id:t.id,text:t.name,picture:t.image_url,icon:w["k"]});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeMovie:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.movieItems.findIndex((function(e){return e.text===t.text})),this.movieItems.splice(r,1),this.removedFavoriteMovies.push(t.refID);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),searchMovie:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isMovieLookupLoading=!0,e.next=3,c["a"].searchMovie(t);case 3:r=e.sent,this.movieLookup=r.results||[],this.isMovieLookupLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveMovies:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.newFavoriteMovies.length>0)){e.next=6;break}return e.next=3,c["a"].addFavoriteMovies(this.userID,this.newFavoriteMovies);case 3:t=e.sent,t.forEach((function(e){var t=n.movieItems.find((function(t){return t.id===e.movie}));t.refID=e.id})),this.newFavoriteMovies=[];case 6:if(!(this.removedFavoriteMovies.length>0)){e.next=15;break}r=0;case 8:if(!(r<this.removedFavoriteMovies.length)){e.next=14;break}return e.next=11,c["a"].removeFavoriteMovies(this.userID,this.removedFavoriteMovies[r]);case 11:r++,e.next=8;break;case 14:this.removedFavoriteMovies=[];case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateGenres:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.map((function(e){var t=a.genreItems.findIndex((function(t){return t.text===e}));return a.genreItems[t].value})),n=t.length>this.selectedGenres.length,c["a"].updateFavoriteGenres(this.userID,r,n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),_fetchActors:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getFavoriteActors(this.userID);case 2:t=e.sent,r=[],n=0;case 5:if(!(n<t.length)){e.next=13;break}return e.next=8,c["a"].getActor(t[n].actor);case 8:a=e.sent,r.push({id:a.id,refID:t[n].id,image:a.image_url,text:a.name,icon:w["k"]});case 10:n++,e.next=5;break;case 13:this.actorItems=r;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),_fetchMovies:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getFavoriteMovies(this.userID);case 2:t=e.sent,r=[],n=0;case 5:if(!(n<t.length)){e.next=13;break}return e.next=8,c["a"].getMovie(t[n].movie);case 8:a=e.sent,r.push({id:a.id,refID:t[n].id,picture:a.image_url,text:a.name,icon:w["k"]});case 10:n++,e.next=5;break;case 13:this.movieItems=r;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),_fetchGenres:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getGenres();case 2:return t=e.sent,this.genreItems=t.map((function(e){return{text:e.name,value:e.id}})),e.next=6,c["a"].getFavoriteGenres(this.userID);case 6:r=e.sent,this.selectedGenres=r.map((function(e){var t=n.genreItems.find((function(t){return t.value===e.genre}));return t.text}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._fetchActors(),this._fetchMovies(),this._fetchGenres();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeMount:function(){var e=document.getElementsByTagName("app")[0],t=e.getAttribute("user");t&&(t=JSON.parse(t),this.userID=t.id)}},ce=ie,oe=r("7496"),ue=r("a75b"),le=Object(k["a"])(ce,a,s,!1,null,null,null),de=le.exports;R()(le,{VApp:oe["a"],VContent:ue["a"]});var ve=r("b8e3"),he=r("0532");r("8a71"),r("b27d");new he["a"],n["a"].config.productionTip=!1,new n["a"]({vuetify:ve["a"],render:function(e){return e(de)}}).$mount("#preferences")},e532:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"logo",attrs:{href:"/"}},[e._v("Pickee")])},a=[],s=(r("4a60"),r("2877")),i={},c=Object(s["a"])(i,n,a,!1,null,null,null);t["a"]=c.exports},ea03:function(e,t,r){},f1a8:function(e,t,r){"use strict";var n=r("b700"),a=r.n(n);a.a},f2d8:function(e,t,r){},f98a:function(e,t,r){}});